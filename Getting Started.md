
# Welcome to JMMediaStackSDK

## Setup Guide

Here's the continuation assuming you have already created your Xcode project and initialized a Podfile:

### Edit the Podfile:

1. Open your Podfile in Xcode.

### Add Pod Specification:

2. Inside your Podfile, add the pod specification for 'JMMediaStackSDK' as described previously:

```ruby
platform :ios

target 'YourProjectName' do
  use_frameworks!
  pod 'JMMediaStackSDK', :git => 'https://devops.jio.com/JioPlatforms/JioMeet_Pilot/_git/JMMediaSoup_iOS', :branch => 'BranchName(release wise)'
end
```

3. Save the changes you made to the Podfile.

### Install the Pod:

4. In your terminal, navigate to the directory where your project's Podfile is located.

5. Run the command:

```bash
pod install
```

### Open Workspace:

6. Close your Xcode project and open the .xcworkspace file that was generated by CocoaPods. This workspace includes your project and the pods.

### Continue Integration:

7. Now that the 'JMMediaStackSDK' pod is installed, you can continue integrating it into your project following the documentation provided by the library.

## Setup for ScreenShare:

To enable screen sharing, follow these steps:

### Add Broadcast Extension:

1. Add New Target:
   - In the Project Navigator on the left side of Xcode, right-click on your project or click the "+" button at the bottom.
   - Select "New Target."

2. Select Broadcast Upload Extension:
   - In the "Choose a template for your new target" window, select "Broadcast Upload Extension" under the "Media" section.

3. Configure Extension Settings:
   - Fill in the required information for your Broadcast Upload Extension:
     - Product Name: Choose a name for your extension (e.g., "MyBroadcastExtension").
     - Organization Identifier: Use a unique reverse domain notation identifier.
     - Bundle Identifier: This will be automatically generated based on your organization identifier and the product name.
     - Language: Choose the programming language you're comfortable with (Swift or Objective-C).

4. Finish Adding Extension:
   - Click the "Finish" button to add the Broadcast Upload Extension target to your project.

### Setup App Extension:

To send sample buffers to the main app using inter-process communication mechanisms, follow these steps:

1. Select Your Target:
   - In the Project Navigator on the left side of Xcode, select your project's target for which you want to add the App Group.

2. Capabilities Tab:
   - Go to the "Signing & Capabilities" tab for your target.

3. Enable App Groups:
   - Under the "App Groups" section, click the "+ Capability" button to add an App Group capability.

4. Create or Select App Group:
   - If you have an existing App Group that you want to use, select it from the list.
   - If not, click the "Add Group" button and give your App Group a unique identifier. This identifier should be in reverse domain notation, like `group.com.yourcompany.appname`.

---------

The JMMediaEngine SDK provides functionalities for handling audio, video, and communication features within a meeting environment. This document outlines the delegate protocol and abstract methods available for interaction between the SDK and the client application.

## Table of Contents

- [Delegate Callbacks](#delegate-callbacks)
- [Optional Callbacks](#optional-callbacks)
- [Available SDK Functions](#available-sdk-functions)
- [Initiating a Meeting Call](#initiating-a-meeting-call)
- [Sample App](#sample-app)

## Delegate Callbacks

The following callback methods are implemented in the `JMMediaEngineDelegate` protocol. These methods notify the client application about various events occurring within the SDK.

```swift
public protocol JMMediaEngineDelegate {
    func onJoinSuccess(id: String)
    func onError(error: JMMediaError)
    
    func onUserJoined(user: JMUserInfo)
    func onUserLeft(id: String, reason: String)
    
    // ... other callback methods ...
    
    func onChannelLeft()
}
```

## Optional Callbacks

The `JMMediaEngineDelegate` protocol provides optional callback methods. These methods can be overridden in the client application to handle specific events. If not overridden, default implementations are provided.

```swift
extension JMMediaEngineDelegate {
    func onBroadcastMessage(msg: [String: Any]){}
    func onBroadcastMessageToPeer(msg: [String: Any]){}
    
    // ... other optional callback methods ...
}
```

## Available SDK Functions

The `JMMediaEngineAbstract` protocol defines the SDK functions that the client application can call to interact with the media engine. These functions include operations related to joining meetings, setting up audio and video devices, managing video feeds, handling screen sharing, and sending messages.

```swift
protocol JMMediaEngineAbstract {
    func create(withAppId appID: String, delegate: JMMediaEngineDelegate?) -> JMMediaEngine
    func join(meetingId: String, meetingPin: String, userName: String, meetingUrl: String)
    
    // ... other available SDK functions ...
    
    func sendPrivateMessage(_ message: String, targetParticipantId: String)
}
```

## Initiating a Meeting Call

To initiate a meeting call using the JMMediaEngine SDK, follow these steps:

1. **Initialize the SDK:** Use the `create` method from the `JMMediaEngineAbstract` protocol to initialize the SDK with your app's credentials and a delegate to receive callbacks.

2. **Join a Meeting:** Call the `join` method to join a meeting. Provide the meeting ID, meeting PIN, your username, and the meeting URL.

3. **Configure Devices:** Use the available functions to set up audio and video devices.

4. **Set Up Video Feeds:** Configure the local and remote video feeds using the `setupLocalVideo` and `setupRemoteVideo` methods.

5. **Manage Communication:** Utilize the provided methods for sending broadcast and private messages.

For a practical example of initiating a meeting call using the JMMediaEngine SDK, you can refer to our sample app: [Sample Meeting App](https://devops.jio.com/JioPlatforms/JioMeet_Pilot/_git/JMMediaSoup_iOS?path=%2FSampleApp%2FMediaStack&version=GBdevelop&_a=contents).

Please refer to the source code for detailed method signatures and parameter descriptions.

---